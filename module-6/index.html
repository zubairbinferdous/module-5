<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    // db.test.aggregate([
    // // level1
    // { $match: { gender: 'Male', age: { $lt: 30 } } },
    // // level 2
    // { $project: { name: 1, age: 1, gender: 1 } }

    // ])
    // db.test.aggregate([
    // // level1
    // { $match: { gender: 'Male' } },
    // { $match: { age: { $lt: 30 } } },
    // // level 2
    // { $project: { name: 1, age: 1, gender: 1 } }

    // ])

    // db.test.aggregate([
    // // level1
    // { $match: { gender: 'Male'} },
    // // level 2
    // {$addFields: {coures:'level2'}},
    // //level 3
    // { $project: { name: 1, age: 1, gender: 1 , coures:1 } },
    // // level 4
    // {$out: "student"}

    // ])

    // db.test.aggregate([
    // // level1
    // { $match: { gender: 'Male'} },
    // // level 2
    // {$addFields: {coures:'level2'}},
    // //level 3
    // // { $project: { name: 1, age: 1, gender: 1 , coures:1 } },
    // // level 4
    // {$merge: "test"}

    // ])
    // db.test.aggregate([
    // // level1
    // { $group: { _id: "$address.country", count: { $sum: 1 } } }

    // ])
    // db.test.aggregate([
    // // level1
    // { $group: {
    // _id: "$address.country",
    // count: { $sum: 1 },
    // showName: { $push: '$name' }

    // }

    // }

    // ])
    // db.test.aggregate([
    // // level1
    // { $group: {
    // _id: "$address.country",
    // count: { $sum: 1 },
    // fullData: { $push: '$$ROOT' } }

    // },
    // // level 2
    // {$project: {
    // "fullData.name":1,
    // "fullData.email":1,
    // "fullData.phone":1,


    // }

    // }
    // ])


    // db.test.aggregate([
    // {$group: { _id: null ,
    // totalSalary:{$sum:"$salary"},
    // maxSalary:{$max: "$salary"},
    // minSalary:{$min: "$salary"},
    // avgSalary:{$avg: "$salary"}
    // }},
    // {
    // $project: {
    // totalSalary:1,
    // maxSalary:1,
    // minSalary:1,
    // avarage:"$avgSalary",
    // range: { $subtract: ["$maxSalary", "$minSalary"] }
    // }
    // }
    // ])




    // db.test.aggregate([
    // //l1
    // {$unwind: "$interests"},
    // //l2
    // { $group: { _id: "$age" , interest :{$push: "$interests"}}},

    // ])


    // db.test.aggregate([

    // { $bucket: {
    // groupBy: "$age",
    // boundaries: [ 20, 40, 60 , 80],
    // default: "Other ages",
    // output: {
    // "count": { $sum: 1 },
    // "name" : { $push: "$name" }
    // }
    // }},
    // {$sort: {count:-1}},
    // {$limit: 3},
    // {$project: {
    // count:1
    // }}
    // ])

    // 6-7 $facet, multiple pipeline aggregation stage
    // 6-8 $lookup stage, embedding vs referencing.mp4
    // 6-9 What is indexing, COLLSCAN vs IXSCAN
    // 6-10 Explore compound index and text index

</body>

</html>